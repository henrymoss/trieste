
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>trieste.bayesian_optimizer &#8212; trieste 0.2.0 documentation</title>
    
  <link rel="stylesheet" href="../../../_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="trieste.datasets" href="../datasets/index.html" />
    <link rel="prev" title="trieste.utils.objectives" href="../utils/objectives/index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../../../index.html">
      <img src="../../../_static/logo.png" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">API reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../tutorials.html">Tutorials</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/secondmind-labs/trieste" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
        
          
              <li class="">
                  <a href="../acquisition/index.html">trieste.acquisition</a>
              </li>
          
        
          
              <li class="">
                  <a href="../models/index.html">trieste.models</a>
              </li>
          
        
          
              <li class="">
                  <a href="../utils/index.html">trieste.utils</a>
              </li>
          
        
          
              <li class="active">
                  <a href="">trieste.bayesian_optimizer</a>
              </li>
          
        
          
              <li class="">
                  <a href="../datasets/index.html">trieste.datasets</a>
              </li>
          
        
          
              <li class="">
                  <a href="../observer/index.html">trieste.observer</a>
              </li>
          
        
          
              <li class="">
                  <a href="../space/index.html">trieste.space</a>
              </li>
          
        
          
              <li class="">
                  <a href="../type/index.html">trieste.type</a>
              </li>
          
        
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#module-contents" class="nav-link">Module Contents</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#trieste.bayesian_optimizer.S" class="nav-link">S</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#trieste.bayesian_optimizer.SP" class="nav-link">SP</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#trieste.bayesian_optimizer.LoggingState" class="nav-link">LoggingState</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#trieste.bayesian_optimizer.OptimizationResult" class="nav-link">OptimizationResult</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#trieste.bayesian_optimizer.BayesianOptimizer" class="nav-link">BayesianOptimizer</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#trieste.bayesian_optimizer.BayesianOptimizer.optimize" class="nav-link">optimize</a>
        </li>
    
            </ul>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="module-trieste.bayesian_optimizer">
<span id="trieste-bayesian-optimizer"></span><h1><a class="reference internal" href="#module-trieste.bayesian_optimizer" title="trieste.bayesian_optimizer"><code class="xref py py-mod docutils literal notranslate"><span class="pre">trieste.bayesian_optimizer</span></code></a><a class="headerlink" href="#module-trieste.bayesian_optimizer" title="Permalink to this headline">¶</a></h1>
<p>This module contains the <a class="reference internal" href="#trieste.bayesian_optimizer.BayesianOptimizer" title="trieste.bayesian_optimizer.BayesianOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BayesianOptimizer</span></code></a> class, used to perform Bayesian optimization.</p>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt id="trieste.bayesian_optimizer.S">
<code class="sig-name descname">S</code><a class="reference internal" href="../../../_modules/trieste/bayesian_optimizer.html#S"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trieste.bayesian_optimizer.S" title="Permalink to this definition">¶</a></dt>
<dd><p>Unbound type variable.</p>
</dd></dl>

<dl class="py data">
<dt id="trieste.bayesian_optimizer.SP">
<code class="sig-name descname">SP</code><a class="reference internal" href="../../../_modules/trieste/bayesian_optimizer.html#SP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trieste.bayesian_optimizer.SP" title="Permalink to this definition">¶</a></dt>
<dd><p>Type variable bound to <code class="xref py py-class docutils literal notranslate"><span class="pre">SearchSpace</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt id="trieste.bayesian_optimizer.LoggingState">
<em class="property">class </em><code class="sig-name descname">LoggingState</code><a class="reference internal" href="../../../_modules/trieste/bayesian_optimizer.html#LoggingState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trieste.bayesian_optimizer.LoggingState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic[S]</span></code></p>
<p>Container used to track the state of the optimization process in <a class="reference internal" href="#trieste.bayesian_optimizer.BayesianOptimizer" title="trieste.bayesian_optimizer.BayesianOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BayesianOptimizer</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="trieste.bayesian_optimizer.OptimizationResult">
<em class="property">class </em><code class="sig-name descname">OptimizationResult</code><a class="reference internal" href="../../../_modules/trieste/bayesian_optimizer.html#OptimizationResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trieste.bayesian_optimizer.OptimizationResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic[S]</span></code></p>
<p>Container for the result of the optimization process in <a class="reference internal" href="#trieste.bayesian_optimizer.BayesianOptimizer" title="trieste.bayesian_optimizer.BayesianOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BayesianOptimizer</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="trieste.bayesian_optimizer.BayesianOptimizer">
<em class="property">class </em><code class="sig-name descname">BayesianOptimizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">observer</span><span class="p">:</span> <span class="n">Observer</span></em>, <em class="sig-param"><span class="n">search_space</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#trieste.bayesian_optimizer.SP" title="trieste.bayesian_optimizer.SP">SP</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/trieste/bayesian_optimizer.html#BayesianOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trieste.bayesian_optimizer.BayesianOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic[SP]</span></code></p>
<p>This class performs Bayesian optimization, the data efficient optimization of an expensive
black-box <em>objective function</em> over some <em>search space</em>. Since we may not have access to the
objective function itself, we speak instead of an <em>observer</em> that observes it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>observer</strong> – The observer of the objective function.</p></li>
<li><p><strong>search_space</strong> – The space over which to search. Must be a
<a class="reference internal" href="../space/index.html#trieste.space.SearchSpace" title="trieste.space.SearchSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchSpace</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="trieste.bayesian_optimizer.BayesianOptimizer.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">num_steps</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">datasets</span><span class="p">:</span> <span class="n">Mapping<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">, </span>Dataset<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">model_specs</span><span class="p">:</span> <span class="n">Mapping<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">, </span>ModelSpec<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">acquisition_rule</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>AcquisitionRule<span class="p">[</span><a class="reference internal" href="#trieste.bayesian_optimizer.S" title="trieste.bayesian_optimizer.S">S</a><span class="p">, </span><a class="reference internal" href="#trieste.bayesian_optimizer.SP" title="trieste.bayesian_optimizer.SP">SP</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">acquisition_state</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#trieste.bayesian_optimizer.S" title="trieste.bayesian_optimizer.S">S</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">track_state</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#trieste.bayesian_optimizer.OptimizationResult" title="trieste.bayesian_optimizer.OptimizationResult">OptimizationResult</a><span class="p">[</span><a class="reference internal" href="#trieste.bayesian_optimizer.S" title="trieste.bayesian_optimizer.S">S</a><span class="p">]</span><a class="reference internal" href="../../../_modules/trieste/bayesian_optimizer.html#BayesianOptimizer.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trieste.bayesian_optimizer.BayesianOptimizer.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to find the minimizer of the <code class="docutils literal notranslate"><span class="pre">observer</span></code> in the <code class="docutils literal notranslate"><span class="pre">search_space</span></code> (both specified at
<code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code>). This is the central implementation of the Bayesian optimization loop.</p>
<dl class="simple">
<dt>For each step in <code class="docutils literal notranslate"><span class="pre">num_steps</span></code>, this method:</dt><dd><ul class="simple">
<li><p>Finds the next points with which to query the <code class="docutils literal notranslate"><span class="pre">observer</span></code> using the
<code class="docutils literal notranslate"><span class="pre">acquisition_rule</span></code>’s <code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code> method, passing it the <code class="docutils literal notranslate"><span class="pre">search_space</span></code>,
<code class="docutils literal notranslate"><span class="pre">datasets</span></code> and models built from the <code class="docutils literal notranslate"><span class="pre">model_specs</span></code>.</p></li>
<li><p>Queries the <code class="docutils literal notranslate"><span class="pre">observer</span></code> <em>once</em> at those points.</p></li>
<li><p>Updates the datasets and models with the data from the <code class="docutils literal notranslate"><span class="pre">observer</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>Within the optimization loop, this method will catch any errors raised and return them
instead, along with the latest data, models, and the history of the optimization process.
This enables the caller to restart the optimization loop from the latest successful step.
<strong>Note that if an error occurred, the latest data and models might not be from the
``num_steps``-th optimization step, but from the step where the error occurred. It is up to
the caller to check if this has happened, by checking if the result’s `error` attribute is
populated.</strong> Any errors encountered within this method, but outside the optimization loop,
will be raised as normal. These are documented below.</p>
<dl class="simple">
<dt><strong>Type hints:</strong></dt><dd><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">acquisition_rule</span></code> must use the same type of
<a class="reference internal" href="../space/index.html#trieste.space.SearchSpace" title="trieste.space.SearchSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchSpace</span></code></a> as specified in <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code>.</p></li>
<li><p>The history, if populated, will contain an acquisition state of the same type as used
by the <code class="docutils literal notranslate"><span class="pre">acquisition_rule</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_steps</strong> – The number of optimization steps to run.</p></li>
<li><p><strong>datasets</strong> – The known observer query points and observations for each tag.</p></li>
<li><p><strong>model_specs</strong> – The model to use for each <a class="reference internal" href="../datasets/index.html#trieste.datasets.Dataset" title="trieste.datasets.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a> (matched
by tag).</p></li>
<li><p><strong>acquisition_rule</strong> – The acquisition rule, which defines how to search for a new point
on each optimization step. Defaults to
<a class="reference internal" href="../acquisition/rule/index.html#trieste.acquisition.rule.EfficientGlobalOptimization" title="trieste.acquisition.rule.EfficientGlobalOptimization"><code class="xref py py-class docutils literal notranslate"><span class="pre">EfficientGlobalOptimization</span></code></a> with default
arguments. Note that if the default is used, this implies the tags must be
<cite>OBJECTIVE</cite>, the search space can be any <a class="reference internal" href="../space/index.html#trieste.space.SearchSpace" title="trieste.space.SearchSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchSpace</span></code></a>, and the
acquisition state returned in the <a class="reference internal" href="#trieste.bayesian_optimizer.OptimizationResult" title="trieste.bayesian_optimizer.OptimizationResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizationResult</span></code></a> will be <cite>None</cite>.</p></li>
<li><p><strong>acquisition_state</strong> – The acquisition state to use on the first optimization step.
This argument allows the caller to restore the optimization process from a previous
<a class="reference internal" href="#trieste.bayesian_optimizer.LoggingState" title="trieste.bayesian_optimizer.LoggingState"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoggingState</span></code></a>.</p></li>
<li><p><strong>track_state</strong> – If <cite>True</cite>, this method saves the optimization state at the start of each
step.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The updated models, data, history containing information from every optimization
step (see <code class="docutils literal notranslate"><span class="pre">track_state</span></code>), and the error if any error was encountered during
optimization.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If any of the following are true:
- the keys in <code class="docutils literal notranslate"><span class="pre">datasets</span></code> and <code class="docutils literal notranslate"><span class="pre">model_specs</span></code> do not match
- <code class="docutils literal notranslate"><span class="pre">datasets</span></code> or <code class="docutils literal notranslate"><span class="pre">model_specs</span></code> are empty
- the default <cite>acquisition_rule</cite> is used and the tags are not <cite>OBJECTIVE</cite>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


              </div>
              
              
          </main>
          

      </div>
    </div>

    
  <script src="../../../_static/js/index.30270b6e4c972e43c488.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright Copyright 2020 The Trieste Contributors

Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.&#34;
.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>